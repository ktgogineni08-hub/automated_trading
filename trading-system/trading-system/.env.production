# ==============================================================================
# PRODUCTION ENVIRONMENT
# ==============================================================================
# CRITICAL: Use strong passwords and rotate regularly
# NEVER use default or example passwords in production!
# ==============================================================================

ENVIRONMENT=production
DEVELOPMENT_MODE=false
LOG_LEVEL=INFO

# Database - Production PostgreSQL (use managed service)
POSTGRES_HOST=your-postgres-hostname.database.azure.com
POSTGRES_PORT=5432
POSTGRES_DB=trading_system_prod
POSTGRES_USER=trading_user_prod@your-server
POSTGRES_PASSWORD=CHANGEME_STRONG_PASSWORD_32_CHARS_MIN

# Connection pool - Higher for production
POSTGRES_MIN_POOL_SIZE=10
POSTGRES_MAX_POOL_SIZE=50

# Redis - Production Redis (use managed service with SSL)
REDIS_HOST=your-redis-hostname.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=CHANGEME_REDIS_PASSWORD_STRONG
REDIS_DB=0
REDIS_MAX_CONNECTIONS=100

# Zerodha API - LIVE TRADING CREDENTIALS
# CRITICAL: These control real money - keep absolutely secure!
ZERODHA_API_KEY=CHANGEME_PRODUCTION_API_KEY
ZERODHA_API_SECRET=CHANGEME_PRODUCTION_API_SECRET
ZERODHA_ACCESS_TOKEN=CHANGEME_PRODUCTION_ACCESS_TOKEN
TRADING_MODE=live

# API Configuration
API_TIMEOUT=30
MAX_REQUESTS_PER_SECOND=3
MAX_REQUESTS_PER_MINUTE=1000

# Dashboard - Production ports (behind reverse proxy)
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=8080
MONITORING_PORT=8081
DASHBOARD_API_KEY=CHANGEME_DASHBOARD_API_KEY_64_CHARS_MIN

# SSL/TLS - REQUIRED for production
DASHBOARD_SSL_ENABLED=true
DASHBOARD_SSL_CERT=/app/certs/production.crt
DASHBOARD_SSL_KEY=/app/certs/production.key

# Security - CRITICAL: Generate strong random keys
# Generate with: python3 -c "import secrets; print(secrets.token_hex(64))"
ENCRYPTION_KEY=CHANGEME_ENCRYPTION_KEY_FERNET_FORMAT
JWT_SECRET=CHANGEME_JWT_SECRET_128_CHARS_MIN
SESSION_SECRET=CHANGEME_SESSION_SECRET_128_CHARS_MIN

# Features - Disable experimental features in production
FEATURE_ML_PREDICTIONS=true
FEATURE_ADVANCED_ALERTS=true
FEATURE_BACKTESTING=false
FEATURE_COST_OPTIMIZATION=true
FEATURE_ADVANCED_RISK_ANALYTICS=true

# Cost Optimization - Aggressive caching for production
COST_OPTIMIZATION_ENABLED=true
CACHE_SIZE=50000
CACHE_TTL=300
BATCH_SIZE=20
BATCH_TIMEOUT=2.0

# Monitoring - Full monitoring in production
MONITORING_ENABLED=true
METRICS_INTERVAL=60
METRICS_RETENTION=168  # 7 days

# Trading Parameters - Production risk limits
MAX_TRADES_PER_DAY=150
MIN_CONFIDENCE=0.75
DEFAULT_STOP_LOSS_PCT=0.02
DEFAULT_TAKE_PROFIT_PCT=0.04
MAX_POSITION_SIZE=10
MAX_PORTFOLIO_RISK=0.05

# Alerts - Multiple channels for production
ALERT_CHANNELS=email,slack,telegram

# Email Alerts
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=CHANGEME_alerts@yourdomain.com
SMTP_PASSWORD=CHANGEME_EMAIL_APP_PASSWORD
ALERT_EMAIL_TO=trading-team@yourdomain.com

# Slack Alerts
SLACK_WEBHOOK_URL=CHANGEME_https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Telegram Alerts
TELEGRAM_BOT_TOKEN=CHANGEME_YOUR_BOT_TOKEN
TELEGRAM_CHAT_ID=CHANGEME_YOUR_CHAT_ID

# Backup - CRITICAL: Enable for production
BACKUP_ENABLED=true
BACKUP_DIR=/app/backups
BACKUP_RETENTION_DAYS=90
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM IST

# Timezone - IST for NSE trading hours
TZ=Asia/Kolkata

# Docker - Production configuration
COMPOSE_PROJECT_NAME=trading-system-prod
DOCKER_REGISTRY=your-registry.azurecr.io
DOCKER_IMAGE_TAG=v1.0.0

# Grafana Monitoring
GRAFANA_PASSWORD=CHANGEME_GRAFANA_PASSWORD_STRONG

# Prometheus Metrics
PROMETHEUS_RETENTION=90d

# ==============================================================================
# SECURITY CHECKLIST FOR PRODUCTION
# ==============================================================================
# [ ] Changed ALL passwords from default values
# [ ] Generated strong random keys (128+ chars for JWT/Session)
# [ ] Enabled SSL/TLS with valid certificates
# [ ] Configured email/Slack/Telegram alerts
# [ ] Enabled automatic backups
# [ ] Set up monitoring and alerting
# [ ] Tested failover and recovery procedures
# [ ] Documented access control and key rotation procedures
# [ ] Limited network access (firewall rules)
# [ ] Enabled audit logging
# [ ] Set up DDoS protection (if exposed to internet)
# [ ] Configured rate limiting
# [ ] Reviewed and hardened all security settings
# ==============================================================================
